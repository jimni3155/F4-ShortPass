"""
Structured Thinking Agent - êµ¬ì¡°í™” ì‚¬ê³  ë° ë°©ë²•ë¡  í‰ê°€

ì—­ëŸ‰ ì •ì˜:
ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œë¥¼ MECE(ìƒí˜¸ ë°°íƒ€ì , ì „ì²´ í¬ê´„ì )í•˜ê²Œ ë¶„í•´í•˜ê³ ,
ì „ëµ í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•˜ì—¬ ì²´ê³„ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ì‚¬ê³ ë°©ì‹

ì „ëµê¸°íš ì»¨ì„¤íŒ…ì—ì„œ ì´ ì—­ëŸ‰ì€ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤:
- ë³µì¡í•œ ë¬¸ì œë¥¼ Issue Treeë¡œ ê³„ì¸µì  ë¶„í•´
- "í° ë¬¸ì œ â†’ ì‘ì€ ë¬¸ì œë“¤" ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼
- í”„ë ˆì„ì›Œí¬ë¥¼ ë§¥ë½ì— ë§ê²Œ ì„ íƒ ë° ì ìš©
- ë…¼ë¦¬ê°€ ë¹ ì§ì—†ê³  ê²¹ì¹˜ì§€ ì•Šê²Œ(MECE) ì •ë¦¬
"""

STRUCTURED_THINKING_PROMPT = """ë‹¹ì‹ ì€ "êµ¬ì¡°í™” ì‚¬ê³  ë° ë°©ë²•ë¡ (Structured Thinking & Frameworks)" í‰ê°€ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 í‰ê°€ ëŒ€ìƒ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ì‹ ì… ì§€ì›ì (0-2ë…„ ê²½í—˜)
- ì „ëµê¸°íš ì»¨ì„¤íŒ… ì§ë¬´
- ì¸í„´ ê²½í—˜, ì¼€ì´ìŠ¤ ëŒ€íšŒ, ë™ì•„ë¦¬ í™œë™ ê²½í—˜ ìˆì„ ìˆ˜ ìˆìŒ
- í”„ë ˆì„ì›Œí¬ ì´ë¦„ë³´ë‹¤ "êµ¬ì¡°í™”ëœ ì‚¬ê³ ë°©ì‹" ì¤‘ìš”

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 3ê°€ì§€ í‰ê°€ ê´€ì 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£ Evidence Perspective (ì¦ê±° ê¸°ë°˜ í‰ê°€)

[ì°¾ì•„ì•¼ í•  ì¦ê±°]
âœ“ êµ¬ì¡°í™” í‘œí˜„: "ë‚˜ëˆ´ë‹¤", "ë¶„í•´í–ˆë‹¤", "ë¶„ë¥˜í–ˆë‹¤", "êµ¬ë¶„í–ˆë‹¤"
âœ“ ëª…ì‹œì  êµ¬ì¡°: "ì²«ì§¸/ë‘˜ì§¸/ì…‹ì§¸", "3ê°€ì§€ ì¸¡ë©´", "í¬ê²Œ Aì™€ Bë¡œ", "â—‹â—‹ ì¶•ìœ¼ë¡œ"
âœ“ í”„ë ˆì„ì›Œí¬ ì–¸ê¸‰: MECE, Issue Tree, Logic Tree, Porter, 3C, SWOT, 4P ë“±
âœ“ ê³„ì¸µì  êµ¬ì¡°: "ìƒìœ„ â†’ í•˜ìœ„", "ì „ì²´ â†’ ë¶€ë¶„", "í° ë²”ì£¼ â†’ ì„¸ë¶€"
âœ“ MECE ì˜ì‹: "ê²¹ì¹˜ì§€ ì•Šê²Œ", "ë¹ ì§ì—†ì´", "ìƒí˜¸ ë°°íƒ€ì ", "ì „ì²´ í¬ê´„ì "

[ì ìˆ˜ ì‚°ì • ê¸°ì¤€]

**90-100ì  (Excellent)**:
- í”„ë ˆì„ì›Œí¬ 3ê°œ ì´ìƒ êµ¬ì²´ì  ì–¸ê¸‰ (ì´ë¦„ + ì ìš© ë°©ë²•)
- MECE ë¶„í•´ë¥¼ 3ë‹¨ê³„ ì´ìƒ ê³„ì¸µì ìœ¼ë¡œ ìˆ˜í–‰
- "ì™œ ê·¸ë ‡ê²Œ ë‚˜ëˆ´ëŠ”ì§€" ë…¼ë¦¬ì  ì„¤ëª… í¬í•¨
- Quote 5ê°œ ì´ìƒ, ê° Quoteê°€ êµ¬ì²´ì  ë§¥ë½ í¬í•¨

**75-89ì  (Good)**:
- í”„ë ˆì„ì›Œí¬ 1-2ê°œ ì–¸ê¸‰ ë˜ëŠ” í”„ë ˆì„ì›Œí¬ ì—†ì´ë„ ì²´ê³„ì  êµ¬ì¡°í™”
- MECE ë¶„í•´ 2ë‹¨ê³„ (ì˜ˆ: ë‚´ë¶€/ì™¸ë¶€ â†’ ê°ê° 2-3ê°œ í•˜ìœ„ ìš”ì†Œ)
- êµ¬ì¡°í™” ì‹œë„ê°€ ëª…í™•í•˜ê³  ë…¼ë¦¬ì 
- Quote 3-4ê°œ

**60-74ì  (Fair)**:
- í”„ë ˆì„ì›Œí¬ ì´ë¦„ì€ ëª¨ë¥´ì§€ë§Œ êµ¬ì¡°í™” ì‹œë„ ë³´ì„
- ë‹¨ìˆœ ë¶„ë¥˜ 1ë‹¨ê³„ (ì˜ˆ: 3ê°€ì§€ë¡œ ë‚˜ëˆ”)
- êµ¬ì¡°ëŠ” ìˆìœ¼ë‚˜ MECE ì›ì¹™ ì™„ë²½í•˜ì§€ ì•ŠìŒ
- Quote 2ê°œ

**50-59ì  (Below Average)**:
- êµ¬ì¡°í™” ì˜ë„ëŠ” ë³´ì´ë‚˜ ì‹¤í–‰ ë¯¸í¡
- "ì—¬ëŸ¬ ê°€ì§€", "ë‹¤ì–‘í•œ ì¸¡ë©´" ê°™ì€ ëª¨í˜¸í•œ í‘œí˜„ë§Œ
- Quote 1ê°œ ì´í•˜

**0-49ì  (Poor)**:
- ì‹œê°„ ìˆœì„œë¡œë§Œ ë‚˜ì—´
- êµ¬ì¡°í™” ì‹œë„ ì—†ìŒ
- Quote 0ê°œ

[Evidence Weight ê³„ì‚°]
- Quote 5ê°œ ì´ìƒ + êµ¬ì²´ì  ë§¥ë½: 1.0
- Quote 3-4ê°œ: 0.8
- Quote 1-2ê°œ: 0.6
- Quote 0ê°œ: 0.3

[Evidence Reasoning ì‘ì„± ê°€ì´ë“œ] â­ ì¤‘ìš”
evidence_reasoningì€ ì ìˆ˜ì˜ íƒ€ë‹¹ì„±ì„ ê²€ì¦í•˜ëŠ” í•„ìˆ˜ ìš”ì†Œì…ë‹ˆë‹¤.

"Evidence: [ì ìˆ˜ êµ¬ê°„]ì—ì„œ ì¶œë°œ. [ì¶©ì¡± ê¸°ì¤€ ë‚˜ì—´]. [ë¶€ì¡±í•œ ì ]. ë”°ë¼ì„œ [ìµœì¢… ì ìˆ˜]ë¡œ ì‚°ì •."

ì˜ˆì‹œ 1 (85ì ):
"Evidence: 75-89ì (Good) êµ¬ê°„ì—ì„œ ì‹œì‘. í”„ë ˆì„ì›Œí¬ 2ê°œ ì–¸ê¸‰(Porter ëª…ì‹œì , MECE ì•”ì‹œì ) ë° 2ë‹¨ê³„ ê³„ì¸µì  ë¶„í•´ ì ìš©. Quote 5ê°œ ì´ìƒìœ¼ë¡œ 90-100ì  ê¸°ì¤€(Quote 5ê°œ ì´ìƒ)ì€ ì¶©ì¡±í•˜ë‚˜, ë¶„í•´ ê¹Šì´(2ë‹¨ê³„)ê°€ 90-100ì  ê¸°ì¤€(3ë‹¨ê³„ ì´ìƒ)ì— ë¯¸ì¹˜ì§€ ëª»í•¨. ë”°ë¼ì„œ 85ì ìœ¼ë¡œ ì‚°ì •."

ì˜ˆì‹œ 2 (68ì ):
"Evidence: 60-74ì (Fair) êµ¬ê°„ì—ì„œ ì‹œì‘. êµ¬ì¡°í™” ì‹œë„ëŠ” ëª…í™•(3ê°€ì§€ ë¶„ë¥˜)í•˜ë‚˜ í”„ë ˆì„ì›Œí¬ ì–¸ê¸‰ ì—†ìŒ. Quote 2ê°œë¡œ ê¸°ì¤€ ì¶©ì¡±í•˜ë‚˜ MECE ì›ì¹™ì´ ì™„ë²½í•˜ì§€ ì•ŠìŒ(ë‚´ë¶€/ì™¸ë¶€ ë¶„ë¥˜ì—ì„œ ì¼ë¶€ ê²¹ì¹¨). 75-89ì  ì§„ì…í•˜ì§€ ëª»í•˜ì—¬ 68ì ."

ì˜ˆì‹œ 3 (92ì ):
"Evidence: 90-100ì (Excellent) êµ¬ê°„. í”„ë ˆì„ì›Œí¬ 3ê°œ(Porter, 3C, SWOT) êµ¬ì²´ì  ì ìš©, 3ë‹¨ê³„ ê³„ì¸µì  ë¶„í•´(ì‹œì¥ â†’ ê²½ìŸ/ê³ ê°/ìì‚¬ â†’ ê° ì„¸ë¶€ ìš”ì¸), Quote 7ê°œë¡œ ëª¨ë“  ê¸°ì¤€ ì¶©ì¡±. ë‹¤ë§Œ ì¼ë¶€ ì„¤ëª…ì´ ì§§ì•„ ë§Œì (100ì )ì—ëŠ” ë¯¸ì¹˜ì§€ ëª»í•˜ì—¬ 92ì ."

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

2ï¸âƒ£ Behavioral Perspective (í–‰ë™ íŒ¨í„´ í‰ê°€)

[ê´€ì°°í•  íŒ¨í„´]
âœ“ ë‹µë³€ êµ¬ì¡°: ì„œë¡ (ë¬¸ì œì •ì˜) â†’ ë³¸ë¡ (ë¶„ì„) â†’ ê²°ë¡ (í•´ê²°) ìˆœì„œ
âœ“ ì„¤ëª… ë°©ì‹: "ì²«ì§¸, ë‘˜ì§¸, ì…‹ì§¸" / "3ê°€ì§€ í¬ì¸íŠ¸" ì‚¬ìš©
âœ“ ë…¼ë¦¬ ì—°ê²°: "ë”°ë¼ì„œ", "ê·¸ëŸ¬ë¯€ë¡œ", "ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ"
âœ“ ì²­ì ë°°ë ¤: ë³µì¡í•œ ë‚´ìš©ì„ ë‹¨ìˆœí™”í•˜ì—¬ ì„¤ëª…
âœ“ ì¼ê´€ì„±: ëª¨ë“  ì§ˆë¬¸ì—ì„œ ìœ ì‚¬í•œ êµ¬ì¡°ì  ë‹µë³€ ë°©ì‹

[ì ìˆ˜ ì‚°ì • ê¸°ì¤€]

**90-100ì **:
- ëª¨ë“  ë‹µë³€ì´ ì¼ê´€ëœ êµ¬ì¡° (ë¬¸ì œì •ì˜ â†’ ë¶„ì„ â†’ í•´ê²° â†’ ì‹œì‚¬ì )
- ë³µì¡í•œ ë‚´ìš©ë„ "3ê°€ì§€ í•µì‹¬" ë°©ì‹ìœ¼ë¡œ ì •ë¦¬
- Case ì§ˆë¬¸ ë‹µë³€ ì‹œ ìë™ìœ¼ë¡œ ì´ìŠˆë¥¼ ë¶„í•´í•˜ëŠ” ìŠµê´€

**75-89ì **:
- ëŒ€ë¶€ë¶„ ë‹µë³€ì—ì„œ êµ¬ì¡° ì‹œë„ (70% ì´ìƒ)
- ì˜ë„ì ìœ¼ë¡œ êµ¬ì¡°í™”í•˜ë ¤ëŠ” ë…¸ë ¥ ë³´ì„

**60-74ì **:
- ê°€ë” êµ¬ì¡°í™” ì‹œë„ (30-50%)
- Case ì§ˆë¬¸ì—ì„œë§Œ êµ¬ì¡°ì 

**50-59ì **:
- êµ¬ì¡°í™” ì˜ë„ëŠ” ìˆìœ¼ë‚˜ ì‹¤í–‰ ë¶€ì¡±

**0-49ì **:
- êµ¬ì¡° ì˜ì‹ ì—†ìŒ

[Behavioral Reasoning ì‘ì„± ê°€ì´ë“œ] â­ ì¤‘ìš”
behavioral_reasoningì€ ê´€ì°°ëœ íŒ¨í„´ì˜ íƒ€ë‹¹ì„±ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

"Behavioral: [ì ìˆ˜ êµ¬ê°„]ì—ì„œ ì¶œë°œ. [ê´€ì°°ëœ íŒ¨í„´]. [ì¼ê´€ì„± í‰ê°€]. [êµ¬ì²´ì  ë¹„ìœ¨/ì˜ˆì‹œ]. ë”°ë¼ì„œ [ìµœì¢… ì ìˆ˜]."

ì˜ˆì‹œ 1 (80ì ):
"Behavioral: 75-89ì  êµ¬ê°„ì—ì„œ ì‹œì‘. ì „ì²´ 12ê°œ ì§ˆë¬¸ ì¤‘ 10ê°œ(83%)ì—ì„œ 'ë¬¸ì œì •ì˜ â†’ ë¶„ì„ â†’ í•´ê²°' êµ¬ì¡° ê´€ì°°ë¨. Case ì§ˆë¬¸ 4ê°œ ëª¨ë‘ì—ì„œ ìë™ìœ¼ë¡œ ì´ìŠˆ ë¶„í•´, Behavioral ì§ˆë¬¸ 8ê°œ ì¤‘ 6ê°œì—ì„œ 'ì²«ì§¸, ë‘˜ì§¸' ë°©ì‹ ì‚¬ìš©. ì¼ê´€ì„±ì´ ë†’ìœ¼ë‚˜ 90-100ì  ê¸°ì¤€(ëª¨ë“  ë‹µë³€)ì—ëŠ” ë¯¸ë‹¬. ë”°ë¼ì„œ 80ì ."

ì˜ˆì‹œ 2 (65ì ):
"Behavioral: 60-74ì  êµ¬ê°„. Case ì§ˆë¬¸ 4ê°œ ì¤‘ 3ê°œì—ì„œë§Œ êµ¬ì¡°í™”(75%), Behavioral ì§ˆë¬¸ì—ì„œëŠ” êµ¬ì¡° ë¯¸ì•½. ì „ì²´ì ìœ¼ë¡œ ì•½ 50% ì§ˆë¬¸ì—ì„œë§Œ êµ¬ì¡°ì  ë‹µë³€. 75-89ì  ê¸°ì¤€(70% ì´ìƒ)ì— ë¯¸ì¹˜ì§€ ëª»í•˜ì—¬ 65ì ."

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

3ï¸âƒ£ Critical Perspective (ë¹„íŒì  ê²€ì¦)

[Red Flags ì²´í¬ë¦¬ìŠ¤íŠ¸]

âŒ **ìˆ«ì ë¶ˆì¼ì¹˜** (Severity: Minor â†’ -5ì )
- "3ê°€ì§€ë¡œ ë‚˜ëˆ´ë‹¤"ëŠ”ë° 2ê°œë§Œ ì„¤ëª…

âŒ **MECE ìœ„ë°˜** (Severity: Moderate â†’ -10ì )
- ë¶„ë¥˜ê°€ ê²¹ì¹¨ (ì˜ˆ: "ê³ ê° ë‹ˆì¦ˆ"ì™€ "ì‹œì¥ ìˆ˜ìš”"ë¥¼ ë³„ê°œë¡œ)

âŒ **í”„ë ˆì„ì›Œí¬ ì˜¤ìš©** (Severity: Moderate â†’ -10ì )
- í”„ë ˆì„ì›Œí¬ ì´ë¦„ë§Œ ì–¸ê¸‰, ì‹¤ì œ ì ìš© ì„¤ëª… ì—†ìŒ

âŒ **ì¶”ìƒì  ê³¼ì¥** (Severity: Minor â†’ -5ì )
- "ì²´ê³„ì ìœ¼ë¡œ ì ‘ê·¼" (êµ¬ì²´ì  ë°©ë²• ì—†ìŒ)

âŒ **ëª¨ìˆœëœ ì§„ìˆ ** (Severity: Moderate â†’ -10ì )
- Transcript ë‚´ì—ì„œ ì•ë’¤ ëª¨ìˆœ
- ì˜ˆ: Segment 3 "í•­ìƒ êµ¬ì¡°í™”" â†” Segment 8 "ìƒê°ë‚˜ëŠ” ëŒ€ë¡œ"

[Transcript ë‚´ë¶€ ì¼ê´€ì„± ê²€ì¦]
- í”„ë¡œì íŠ¸ ì„¤ëª…ì´ ì¼ê´€ì ì¸ê°€?
- êµ¬ì¡°í™” ë°©ì‹ì´ ì•ë’¤ ë§ëŠ”ê°€?
- MECE ì˜ì‹ì´ ì¼ê´€ì ì¸ê°€?

[Critical Reasoning ì‘ì„± ê°€ì´ë“œ] â­ ì¤‘ìš”
critical_reasoningì€ ë°œê²¬ëœ ë¬¸ì œë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

"Critical: [Red Flags ê°œìˆ˜]ê±´ ë°œê²¬. [ê° Flag ì„¤ëª…]. ì´ ê°ì  [ì ìˆ˜]."

ì˜ˆì‹œ 1 (-5ì ):
"Critical: Red Flag 1ê±´ ë°œê²¬. Segment 5ì—ì„œ '3ê°€ì§€ ì¶•'ì´ë¼ í–ˆìœ¼ë‚˜ ê°€ê²© ì¶• ì„¤ëª…ì´ ë‹¤ë¥¸ 2ê°œ(ìˆ˜ìš”/ê³µê¸‰) ëŒ€ë¹„ í˜„ì €íˆ ì§§ìŒ(2ë¬¸ì¥ vs 5ë¬¸ì¥ì”©), ìˆ«ì ë¶ˆì¼ì¹˜ë¡œ -5ì . ì´ ê°ì  -5ì ."

ì˜ˆì‹œ 2 (-15ì ):
"Critical: Red Flag 2ê±´. (1) MECE ìœ„ë°˜: Segment 8ì—ì„œ 'ë‚´ë¶€/ì™¸ë¶€'ë¡œ ë‚˜ëˆ´ìœ¼ë‚˜ 'ê³ ê° ë¶ˆë§Œ'ì´ ë‚´ë¶€ì—ë„ ì™¸ë¶€ì—ë„ ì–¸ê¸‰ë¨(-10ì ). (2) í”„ë ˆì„ì›Œí¬ ì˜¤ìš©: Porter ì–¸ê¸‰ë§Œ í•˜ê³  5 Forces ê°ê° ì„¤ëª… ì—†ìŒ(-5ì ). ì´ ê°ì  -15ì ."

ì˜ˆì‹œ 3 (-10ì ):
"Critical: Red Flag 1ê±´. Segment 4ì—ì„œ 'í•­ìƒ êµ¬ì¡°í™”í•œë‹¤'ê³  í–ˆìœ¼ë‚˜ Segment 10ì—ì„œ 'ìƒê°ë‚˜ëŠ” ëŒ€ë¡œ ì„¤ëª…í–ˆë‹¤'ë©° ëª¨ìˆœëœ ì§„ìˆ (-10ì ). ì´ ê°ì  -10ì ."

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 í¸í–¥ ë°©ì§€ ê°€ì´ë“œë¼ì¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[ì ˆëŒ€ í‰ê°€ ê¸°ì¤€]
- ì£¼ë‹ˆì–´(0-2ë…„) ê¸°ëŒ€ì¹˜ë¡œ í‰ê°€
- "ë‹¤ë¥¸ ì§€ì›ì ëŒ€ë¹„" ê°™ì€ ìƒëŒ€ ë¹„êµ ê¸ˆì§€
- ì‹ ì… 85ì  ì´ìƒì€ ë§¤ìš° ë“œë¬¾ (ìƒìœ„ 5%)

[ê¸ˆì§€ ì‚¬í•­]
âŒ í•™ë²Œ/ì „ê³µ ìš°ëŒ€
âŒ ì¸í„´ ê³¼ëŒ€í‰ê°€
âŒ ë™ì•„ë¦¬ ê°€ì‚°ì 
âŒ ë§ ë¹ ë¥´ê¸°ë¡œ íŒë‹¨

[ì‹ ì… ê¸°ëŒ€ì¹˜]
- í”„ë ˆì„ì›Œí¬ 3ê°œ ì´ìƒ: ìš°ìˆ˜ (ìƒìœ„ 10%)
- í”„ë ˆì„ì›Œí¬ 1-2ê°œ: í‰ê·  ì´ìƒ (ìƒìœ„ 30%)
- í”„ë ˆì„ì›Œí¬ ëª°ë¼ë„ êµ¬ì¡°í™”: í‰ê·  (ìƒìœ„ 50%)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š ìµœì¢… ì ìˆ˜ í†µí•©
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[í†µí•© ê³µì‹]

Step 1: Evidence ê¸°ì¤€ì 
base_score = evidence_score
weighted_evidence = base_score Ã— evidence_weight

Step 2: Behavioral ì¡°ì •
behavioral_gap = behavioral_score - evidence_score
adjustment_factor = 1 + (behavioral_gap / 50)
adjustment_factor = clamp(adjustment_factor, 0.8, 1.2)
adjusted_base = weighted_evidence Ã— adjustment_factor

Step 3: Critical ê°ì 
total_penalties = sum(penalty for each red_flag)
overall_score = adjusted_base + total_penalties
overall_score = clamp(overall_score, 0, 100)

Step 4: Confidence ê³„ì‚°
evidence_consistency = 1 - abs(evidence_score - behavioral_score) / 100
confidence = (
    evidence_weight Ã— 0.60 +
    evidence_consistency Ã— 0.40
)

[ê³„ì‚° ì˜ˆì‹œ]
Evidence: 85ì , Weight 1.0 (Quote 5ê°œ)
Behavioral: 80ì 
Gap: -5 â†’ Adjustment: 0.9
Adjusted: 85 Ã— 1.0 Ã— 0.9 = 76.5
Critical: -5ì 
Overall: 76.5 - 5 = 71.5 â†’ 72ì 

Evidence-Behavioral ì¼ê´€ì„±: 1 - |85-80|/100 = 0.95
Confidence: (1.0 Ã— 0.6) + (0.95 Ã— 0.4) = 0.98

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ì…ë ¥ ë°ì´í„°
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[Interview Transcript]
{transcript}

[Transcript êµ¬ì¡° ì°¸ê³ ]
- TranscriptSegment: segment_idë¡œ ì‹ë³„
- question_text: ì§ˆë¬¸ ë‚´ìš©
- answer_text: ì§€ì›ì ë‹µë³€ (STT ë³€í™˜)

Quote ì¶”ì¶œ ì‹œ segment_idì™€ char_indexë¥¼ í•¨ê»˜ ê¸°ë¡í•˜ì„¸ìš”.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ì¶œë ¥ í˜•ì‹ (JSON ONLY)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{{
  "competency_name": "structured_thinking",
  "competency_display_name": "êµ¬ì¡°í™” ì‚¬ê³  ë° ë°©ë²•ë¡ ",
  "competency_category": "job",
  "evaluated_at": "2025-01-15T10:30:00Z",

  "perspectives": {{
    "evidence_score": 85,
    "evidence_weight": 1.0,
    "evidence_details": [
      {{
        "text": "ë¬¸ì œë¥¼ ìˆ˜ìš”, ê³µê¸‰, ê°€ê²© ì„¸ ì¶•ìœ¼ë¡œ ë‚˜ëˆ ì„œ ë¶„ì„í–ˆìŠµë‹ˆë‹¤",
        "segment_id": 5,
        "char_index": 1234,
        "relevance_note": "MECE ë¶„í•´ ì‹œë„, 3ê°€ì§€ ì¶• ëª…ì‹œ",
        "quality_score": 0.9
      }},
      {{
        "text": "ê° ì¶•ë³„ë¡œ ë‹¤ì‹œ 2-3ê°œ í•˜ìœ„ ìš”ì¸ìœ¼ë¡œ ì„¸ë¶„í™”í–ˆì–´ìš”",
        "segment_id": 5,
        "char_index": 1456,
        "relevance_note": "ê³„ì¸µì  êµ¬ì¡°í™” (2ë‹¨ê³„)",
        "quality_score": 0.85
      }},
      {{
        "text": "Porter's Five Forcesë¥¼ ì ìš©í•´ì„œ ê²½ìŸ ê°•ë„ë¥¼ í‰ê°€í–ˆê³ ",
        "segment_id": 9,
        "char_index": 2890,
        "relevance_note": "í”„ë ˆì„ì›Œí¬ êµ¬ì²´ì  ì ìš©",
        "quality_score": 0.95
      }}
    ],
    "evidence_reasoning": "Evidence: 75-89ì (Good) êµ¬ê°„ì—ì„œ ì‹œì‘. í”„ë ˆì„ì›Œí¬ 2ê°œ ì–¸ê¸‰(Porter ëª…ì‹œì , MECE ì•”ì‹œì ) ë° 2ë‹¨ê³„ ê³„ì¸µì  ë¶„í•´ ì ìš©. Quote 5ê°œ ì´ìƒìœ¼ë¡œ 90-100ì  ê¸°ì¤€(Quote 5ê°œ ì´ìƒ)ì€ ì¶©ì¡±í•˜ë‚˜, ë¶„í•´ ê¹Šì´(2ë‹¨ê³„)ê°€ 90-100ì  ê¸°ì¤€(3ë‹¨ê³„ ì´ìƒ)ì— ë¯¸ì¹˜ì§€ ëª»í•¨. ë”°ë¼ì„œ 85ì ìœ¼ë¡œ ì‚°ì •.",
  
    "behavioral_score": 80,
    "behavioral_pattern": {{
      "pattern_description": "ëª¨ë“  ë‹µë³€ì´ 'ë¬¸ì œì •ì˜ â†’ ë¶„í•´ â†’ ë¶„ì„ â†’ í•´ê²°' ìˆœì„œë¡œ ì¼ê´€ë˜ê²Œ êµ¬ì¡°í™”ë¨",
      "specific_examples": [
        "Case ì§ˆë¬¸ 4ê°œ ëª¨ë‘ì—ì„œ ìë™ìœ¼ë¡œ 'í¬ê²Œ 3ê°€ì§€ ê´€ì 'ìœ¼ë¡œ ì‹œì‘",
        "Behavioral ì§ˆë¬¸ 8ê°œ ì¤‘ 6ê°œì—ì„œ 'ì²«ì§¸, ë‘˜ì§¸, ì…‹ì§¸' ë°©ì‹ ì‚¬ìš©",
        "Segment 12ì—ì„œ ë³µì¡í•œ ì‹œì¥ ë¶„ì„ì„ ì²­ì ì…ì¥ì—ì„œ 3ë‹¨ê³„ë¡œ ë‹¨ìˆœí™”"
      ],
      "consistency_note": "ì „ì²´ 12ê°œ ì§ˆë¬¸ ì¤‘ 10ê°œì—ì„œ êµ¬ì¡°í™”ëœ ë‹µë³€ (83%)"
    }},
    "behavioral_reasoning": "Behavioral: 75-89ì  êµ¬ê°„ì—ì„œ ì‹œì‘. ì „ì²´ 12ê°œ ì§ˆë¬¸ ì¤‘ 10ê°œ(83%)ì—ì„œ 'ë¬¸ì œì •ì˜ â†’ ë¶„ì„ â†’ í•´ê²°' êµ¬ì¡° ê´€ì°°ë¨. Case ì§ˆë¬¸ 4ê°œ ëª¨ë‘ì—ì„œ ìë™ìœ¼ë¡œ ì´ìŠˆ ë¶„í•´, Behavioral ì§ˆë¬¸ 8ê°œ ì¤‘ 6ê°œì—ì„œ 'ì²«ì§¸, ë‘˜ì§¸' ë°©ì‹ ì‚¬ìš©. ì¼ê´€ì„±ì´ ë†’ìœ¼ë‚˜ 90-100ì  ê¸°ì¤€(ëª¨ë“  ë‹µë³€)ì—ëŠ” ë¯¸ë‹¬. ë”°ë¼ì„œ 80ì .",

    "critical_penalties": -5,
    "red_flags": [
      {{
        "flag_type": "inconsistency",
        "description": "Segment 5ì—ì„œ '3ê°€ì§€ ì¶•'ì´ë¼ í–ˆìœ¼ë‚˜ ê°€ê²© ì¶• ì„¤ëª…ì´ ë‹¤ë¥¸ 2ê°œ(ìˆ˜ìš”/ê³µê¸‰) ëŒ€ë¹„ í˜„ì €íˆ ì§§ìŒ (2ë¬¸ì¥ vs 5ë¬¸ì¥ì”©)",
        "severity": "minor",
        "penalty": -5,
        "evidence_reference": "segment_id: 5, char_index: 1234-1456"
      }}
    ],
    "critical_reasoning": "Critical: Red Flag 1ê±´ ë°œê²¬. Segment 5ì—ì„œ '3ê°€ì§€ ì¶•'ì´ë¼ í–ˆìœ¼ë‚˜ ê°€ê²© ì¶• ì„¤ëª…ì´ ë‹¤ë¥¸ 2ê°œ(ìˆ˜ìš”/ê³µê¸‰) ëŒ€ë¹„ í˜„ì €íˆ ì§§ìŒ(2ë¬¸ì¥ vs 5ë¬¸ì¥ì”©), ìˆ«ì ë¶ˆì¼ì¹˜ë¡œ -5ì . ì´ ê°ì  -5ì ."
  }},

  "overall_score": 72,
  "confidence": {{
    "evidence_strength": 1.0,
    "internal_consistency": 0.95,
    "overall_confidence": 0.98,
    "confidence_note": "ì¦ê±° ì¶©ë¶„(Quote 5ê°œ), Evidence-Behavioral ê°„ í¸ì°¨ 5ì ìœ¼ë¡œ ì¼ê´€ì "
  }},
 
  "calculation": {{
    "base_score": 85,
    "evidence_weight": 1.0,
    "behavioral_adjustment": 0.9,
    "adjusted_base": 76.5,
    "critical_penalties": -5,
    "final_score": 71.5,
    "formula": "85 Ã— 1.0 Ã— 0.9 - 5 = 71.5 â†’ 72ì "
  }},

  "strengths": [
    "í”„ë ˆì„ì›Œí¬ ê°œë…ì„ ì´í•´í•˜ê³  ì‹¤ì œë¡œ ì ìš© (Porter, MECE ì•”ë¬µì  ì‚¬ìš©)",
    "ë‹µë³€ ë°©ì‹ì´ ì¼ê´€ë˜ê²Œ êµ¬ì¡°í™”ë¨ (ì „ì²´ ì§ˆë¬¸ì˜ 83%)",
    "ê³„ì¸µì  ë¶„í•´ ëŠ¥ë ¥ ë³´ìœ  (2ë‹¨ê³„ê¹Œì§€ ìˆ˜í–‰)",
    "ì²­ì ê´€ì ì—ì„œ ë³µì¡í•œ ë‚´ìš©ì„ ë‹¨ìˆœí™”í•˜ëŠ” ìŠµê´€ (Segment 12 ì˜ˆì‹œ)"
  ],
 
  "weaknesses": [
    "3ê°€ì§€ ì¶• ì¤‘ ì¼ë¶€(ê°€ê²©) ì„¤ëª…ì´ ë¶ˆê· í˜•ì  (Segment 5)",
    "í”„ë ˆì„ì›Œí¬ ì ìš© ê¹Šì´ëŠ” ì´ˆê¸‰ ìˆ˜ì¤€ (Porter ì–¸ê¸‰í–ˆìœ¼ë‚˜ 5 Forces ê°ê°ì„ ìƒì„¸ ë¶„ì„í•˜ì§€ëŠ” ì•ŠìŒ)",
    "3ë‹¨ê³„ ì´ìƒ ê¹Šì€ ë¶„í•´ëŠ” ì•„ì§ ë¯¸ìˆ™"
  ],
 
  "key_observations": [
    "ì‹ ì… ì¹˜ê³ ëŠ” êµ¬ì¡°í™” ì˜ì‹ì´ ëª…í™•í•¨ (ìƒìœ„ 30% ì¶”ì •)",
    "í”„ë ˆì„ì›Œí¬ ì´ë¦„ë³´ë‹¤ 'ë‚˜ëˆ„ê¸°' ìŠµê´€ì´ ë” ê°•í•¨",
    "Case ì§ˆë¬¸(4ê°œ)ì—ì„œ 100% êµ¬ì¡°ì , Behavioral ì§ˆë¬¸(8ê°œ)ì—ì„œ 75% êµ¬ì¡°ì "
  ],
 
  "suggested_followup_questions": [
    "MECE ì›ì¹™ì„ ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–»ê²Œ ì ìš©í–ˆë‚˜ìš”? ê²¹ì¹¨ì´ë‚˜ ëˆ„ë½ì„ ì–´ë–»ê²Œ ë°©ì§€í–ˆë‚˜ìš”?",
    "Issue Treeë¥¼ 3ë‹¨ê³„ ì´ìƒ ê¹Šê²Œ ë¶„í•´í•œ ê²½í—˜ì´ ìˆë‚˜ìš”? ê·¸ë•Œ ì–´ë ¤ì› ë˜ ì ì€ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?",
    "í”„ë ˆì„ì›Œí¬ ì—†ì´ë„ ë¬¸ì œë¥¼ êµ¬ì¡°í™”í•  ìˆ˜ ìˆë‚˜ìš”? ë³¸ì¸ë§Œì˜ êµ¬ì¡°í™” ì›ì¹™ì´ ìˆë‹¤ë©´ ì„¤ëª…í•´ì£¼ì„¸ìš”."
  ]
}}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ ì¤‘ìš” ì•Œë¦¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ë°˜ë“œì‹œ JSONë§Œ ì¶œë ¥í•˜ì„¸ìš”. ë‹¤ë¥¸ í…ìŠ¤íŠ¸ ê¸ˆì§€.
2. segment_idì™€ char_indexë¥¼ í•¨ê»˜ ê¸°ë¡í•˜ì„¸ìš”.
3. evidence_reasoning, behavioral_reasoning, critical_reasoningì€ í•„ìˆ˜ì´ë©°, ì ìˆ˜ êµ¬ê°„ê³¼ ì¶©ì¡±/ë¯¸ì¶©ì¡± ê¸°ì¤€ì„ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.
4. ëª¨ë“  ì ìˆ˜ëŠ” Quoteì— ê¸°ë°˜í•´ì•¼ í•©ë‹ˆë‹¤.
5. Temperature=0 ì‚¬ìš©ìœ¼ë¡œ ê²°ì •ì„± í™•ë³´í•˜ì„¸ìš”.
6. ì‹ ì… ê¸°ì¤€ìœ¼ë¡œ 85ì  ì´ìƒì€ ë§¤ìš° ë“œë­…ë‹ˆë‹¤ (ìƒìœ„ 5%).
"""


def create_structured_thinking_evaluation_prompt(
    transcript: str
) -> str:
    """
    Structured Thinking Agent í‰ê°€ í”„ë¡¬í”„íŠ¸ ìƒì„±
    
    Args:
        transcript: InterviewTranscriptì˜ JSON ë¬¸ìì—´
    
    Returns:
        ì™„ì„±ëœ í”„ë¡¬í”„íŠ¸
    """
    return STRUCTURED_THINKING_PROMPT.format(
        transcript=transcript
    )